# Роли и поток работ (обновлено 2025-08-20)

## Роли
**Claude 4.1 Opus — Архитектор/Исполнитель**
- Разработка фич/фиксов по ТЗ от GPT‑5.
- Подготовка минимальных `git diff` патчей, миграций (если нужны), обновление документации.
- Гарантия: асинхронность, транзакции Firestore, идемпотентность, анти‑абьюз.

**GPT‑5 — Планирование и Ops**
- Формирует ТЗ (Design Doc) и скоуп задач.
- Поддерживает Roadmap/Snapshots/Decision log.
- Готовит промты для Claude (реализация) и Codex (ревью/тесты).
- Проверяет соответствие высоким требованиям DX/надежности.

**Codex — Ревью/Тесты**
- Ревью кода на PR, генерация тестов, оценка рисков.
- Контроль чек‑листов, покрытие кейсов, негативные сценарии.

## Поток задач
1. **GPT‑5**: создает Issue по шаблону → формирует ТЗ.
2. **Claude**: реализует фичу → отдаёт патч + локальные тесты.
3. **Codex**: ревью/тесты → замечания/фиксы.
4. Merge → CI → CD → post‑deploy smoke и метрики.
5. **GPT‑5**: обновляет Snapshot и Decision log.

## Директории
- `.github/ISSUE_TEMPLATE` — шаблоны Issue.
- `PROMPTS` — заготовки промтов для Claude/Codex/GPT‑5.
- `docs` — рабочие инструкции, снапшоты, воркфлоу.
- `ops` — решения/протоколы изменений (decision logs).
