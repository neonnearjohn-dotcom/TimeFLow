# Шаблон промта для Codex (Ревьюер/Тестировщик)

Это PR/патч проекта TimeFlow Bot (Python 3.12, aiogram 3.4.x, Firestore).  
**Задача:** провести код‑ревью, дополнить тестами, оценить риски.

Проверь строго:
- асинхронность (никаких блокирующих вызовов);
- Firestore: транзакции, атомарные инкременты, индексы;
- анти‑абьюз: идемпотентность, дедупликация, rate‑limit;
- логи: JSON без PII, уровни INFO/ERROR;
- структура проекта и стиль кода (ruff, black), type hints, pytest.

**Ожидаю в ответ:**
1) Замечания с примерами и ссылками на строки/участки.
2) Предложение минимальных правок (патч/псевдопатч).
3) Недостающие тесты (pytest) с описанием кейсов.
4) Риск‑анализ и регрессии, план smoke‑проверок.
